<div id="container">
  <div id="mySidenav">
    <a (click)="openNav()" [routerLink]="['/products']" [queryParams]="{'type':'all'}">All Products</a>
    <hr>
    <a (click)="openNav()" [routerLink]="['/products']" [queryParams]="{'type':'phones'}">Phones</a>
    <a (click)="openNav()" [routerLink]="['/products']" [queryParams]="{'type':'tablets'}">Tablets</a>
    <a (click)="openNav()" [routerLink]="['/products']" [queryParams]="{'type':'tvs'}">TVs</a>
    <a (click)="openNav()" [routerLink]="['/products']" [queryParams]="{'type':'trackers'}">Fitness Trackers</a>
    <a (click)="openNav()" [routerLink]="['/products']" [queryParams]="{'type':'watches'}">Smart Watches</a>
    <hr>
    <a (click)="clearForm()">Filter</a>
    <form style="text-align: center" [formGroup]="form">
      <a style="padding: 0">Category</a>
      <button *ngFor="let type of types" [id]="type" (click)="changeType(type)">{{type | uppercase}}</button>
      <br>
      <a style="padding: 0">Vendor</a>
      <button *ngFor="let vendor of vendors" [id]="vendor" (click)="changeVendor(vendor)">{{vendor | uppercase}}</button>
      <a style="padding: 0">Price</a>
      <div id="price">
        <input type="number" placeholder="Min Price" min="0" max="10000" formControlName="minPrice" #minPrice>
        <input type="number" (focusout)="validateMax(maxPrice.value)" placeholder="Max Price" [value]="minPrice.value" [min]='minPrice' max="10000" formControlName="maxPrice" #maxPrice>
      </div>
    </form>
    <div id="buttons">
      <button id="apply" [disabled]="form.invalid" (click)="openNav();" [routerLink]="['/products']" [queryParams]="{'type': form.value.type, 'vendor': form.value.vendor, 'minPrice': form.value.minPrice, 'maxPrice': form.value.maxPrice}">Apply Filters</button>
      <button (click)="clearForm()">Clear Filters</button>
    </div>
  </div>
  <div id="choices">
    <a (click)="openNav()" id="marker" class="button fancy-button"><i class="material-icons">reorder</i></a>
    <a [routerLink]="['/']" id="logo">
      <img src="./assets/images/Logo.png">
    </a>
    <input class="search" type="search" #productsName1 [(ngModel)]=productsName>
    <div id="cartAndPayment">
      <a routerLink="/login" class="button fancy-button"><i class="material-icons">person</i></a>
      <a id="logOut" *ngIf="isLogged()" (click)="logOut()" routerLink="/" class="button fancy-button"><i class="material-icons">logout</i></a>
      <a routerLink="/cart" class="button fancy-button"><i class="material-icons">shopping_cart</i></a>
      <a routerLink="/comparison" class="button fancy-button"><i class="material-icons">compare</i></a>
    </div>
  </div>
  <div id="searchGrid" *ngIf="productsName1.value">
    <div id="searchGridItem" *ngFor="let searchResult of productsForSearch | search: productsName">
      <img [src]="searchResult.img">
      <a (click)="productsName1.value=''" class="searchResult" [routerLink]="['/products', searchResult.id]">{{searchResult.model}}</a>
    </div>
  </div>
</div>

