<ng-template #emptyCart>
  <h3 style="padding: 0">
    <span>Cart Is Empty</span>
  </h3>
</ng-template>

<div *ngIf="(cart | async) as cart; else emptyCart">
  <div>
    <h3>Cart</h3>
    <h3 class="cart-item">
      <span>Cart price is</span>
      <span>{{cart?.bill | currency}}</span>
      <div id="buttons">
        <button [routerLink]="['/checkout']" [disabled]="cart?.bill == 0 || !isLogged()" class="button"
                type="submit">Checkout
        </button>
        <button (click)="clearCart()">Clear cart</button>
      </div>
      <h4 *ngIf="!isLogged()"><a style="text-decoration: underline" [routerLink]="'/login'">Sign In</a>To Complete The
        Purchase</h4>
    </h3>
  </div>

  <div class="cart-item" *ngFor="let item of cart?.items">
    <button id="clear" (click)="removeItem(item.model)" class="material-icons">clear</button>
    <div id="itemGrid" [style.opacity]="!item.quantity ? '0.3' : 'unset'">
      <h3>{{ item.model }}</h3>
      <img [src]="item.img">
      <h4>{{ item.description }}</h4>
      <div class="quantity">
        <button id="-" [disabled]="item.quantity == 1" (click)="decreaseQuantity(item.model)">-</button>
        <h3>{{item.quantity}}</h3>
        <button id="+" (click)="increaseQuantity(item.model)">+</button>
      </div>
      <h3>{{item.price | currency}}</h3>
    </div>
  </div>
</div>
